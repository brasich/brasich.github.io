<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Baby's First Azure Function | Ben Rasich</title>
<meta name=keywords content>
<meta name=description content="Our team practices a fairly standard separation of responsibilities between Data Science and Engineering. On the data science side, I take in requirements from the business, frame those requirements into a tractable problem, and build a model using all available data. Outside of the model build itself, though, I rely on close partnership with engineers to make data available for me in the production environment and serve up predictions to clients through some sort of production infrastructure.">
<meta name=author content="Ben">
<link rel=canonical href=https://brasich.github.io/posts/babys-first-azure-function/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://brasich.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=https://brasich.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://brasich.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://brasich.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://brasich.github.io/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.91.0">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="Baby's First Azure Function">
<meta property="og:description" content="Our team practices a fairly standard separation of responsibilities between Data Science and Engineering. On the data science side, I take in requirements from the business, frame those requirements into a tractable problem, and build a model using all available data. Outside of the model build itself, though, I rely on close partnership with engineers to make data available for me in the production environment and serve up predictions to clients through some sort of production infrastructure.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://brasich.github.io/posts/babys-first-azure-function/"><meta property="og:image" content="https://brasich.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-12-15T20:38:13-05:00">
<meta property="article:modified_time" content="2021-12-15T20:38:13-05:00"><meta property="og:site_name" content="ExampleSite">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://brasich.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="Baby's First Azure Function">
<meta name=twitter:description content="Our team practices a fairly standard separation of responsibilities between Data Science and Engineering. On the data science side, I take in requirements from the business, frame those requirements into a tractable problem, and build a model using all available data. Outside of the model build itself, though, I rely on close partnership with engineers to make data available for me in the production environment and serve up predictions to clients through some sort of production infrastructure.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://brasich.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Baby's First Azure Function","item":"https://brasich.github.io/posts/babys-first-azure-function/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Baby's First Azure Function","name":"Baby\u0027s First Azure Function","description":"Our team practices a fairly standard separation of responsibilities between Data Science and Engineering. On the data science side, I take in requirements from the business, frame those requirements into a tractable problem, and build a model using all available data. Outside of the model build itself, though, I rely on close partnership with engineers to make data available for me in the production environment and serve up predictions to clients through some sort of production infrastructure.","keywords":[],"articleBody":"Our team practices a fairly standard separation of responsibilities between Data Science and Engineering. On the data science side, I take in requirements from the business, frame those requirements into a tractable problem, and build a model using all available data. Outside of the model build itself, though, I rely on close partnership with engineers to make data available for me in the production environment and serve up predictions to clients through some sort of production infrastructure.\nOur engineering team often uses Azure Functions for data processing and for serving models. After a year of hearing that term thrown around, I decided it was time to try it out for myself to see what all the fuss is about. How can one tool be used for so much?\nWhat is an Azure Function? From Microsoft themselves, an Azure function is “an event-driven, serverless compute platform that helps solve complex orchestration problems”. There are a couple of important terms in there:\n Event-driven: function apps are called when some event occurs, like an HTTP request to the app’s endpoint. Serverless: rather than having to specify or even think about required instance sizes, compute resources allocated to function apps scale dynamically based on demand.  Also of note is that Azure functions are intended to be stateless, that is they are intended to perform a specific action on an input and provide an output with no interactions across multiple requests.\nExperimenting with Azure Like most of the major cloud providers, Azure includes a free tier to allow new users to experiment for up to a year with all the platform’s tools. I made myself a new account and jumped right into one of their quickstart tutorials to create a function app written in Python.\nWorking through this tutorial was massively illustrative - at their core, Azure functions are extremely simple. When GET or POST request is recieved by the function’s endpoint, it executes a function, main(req: func.HttpRequest) within __init__.py. The request can contain inputs within the query parameters or json in the body. Using those inputs, we can do any required processing and do something like run the inputs through a model, do some data cleaning, etc. Any additional packages we rely on for data science tasks like pandas, scikit-learn, etc. can be installed in the cloud runtime from pip simply by adding them to requirements.txt\nFor the most common data science and data engineering tasks, this looks something like:\n   Application Input Output     Prediction API Feature values Model-derived prediction in an HTTP response   Data processing Raw data Cleaned/processed data stored in a database    The delineation between these applications aren’t completely cut and dry - a prediction API can do some real-time feature processing, for example - but the story remains that Azure functions are a great choice for every part of a production data science workflow. Even through this quick exercise I can see why our team likes using them so much.\nSee code here\nClick here to see the live API  - try changing input_num in the URL. (Note that the first request may take some time as Azure spins up some resources to serve this function after a period of dormancy)\n","wordCount":"529","inLanguage":"en","datePublished":"2021-12-15T20:38:13-05:00","dateModified":"2021-12-15T20:38:13-05:00","author":{"@type":"Person","name":"Ben"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://brasich.github.io/posts/babys-first-azure-function/"},"publisher":{"@type":"Organization","name":"Ben Rasich","logo":{"@type":"ImageObject","url":"https://brasich.github.io/%3Clink%20/%20abs%20url%3E"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://brasich.github.io/ accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://brasich.github.io/categories/ title=categories>
<span>categories</span>
</a>
</li>
<li>
<a href=https://brasich.github.io/tags/ title=tags>
<span>tags</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://brasich.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://brasich.github.io/posts/>Posts</a></div>
<h1 class=post-title>
Baby's First Azure Function
</h1>
<div class=post-meta><span title="2021-12-15 20:38:13 -0500 -0500">December 15, 2021</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Ben
</div>
</header>
<div class=post-content><p>Our team practices a fairly standard separation of responsibilities between Data Science and Engineering. On the data science side, I take in requirements from the business, frame those requirements into a tractable problem, and build a model using all available data. Outside of the model build itself, though, I rely on close partnership with engineers to make data available for me in the production environment and serve up predictions to clients through some sort of production infrastructure.</p>
<p>Our engineering team often uses Azure Functions for data processing and for serving models. After a year of hearing that term thrown around, I decided it was time to try it out for myself to see what all the fuss is about. How can one tool be used for so much?</p>
<h3 id=what-is-an-azure-function>What is an Azure Function?<a hidden class=anchor aria-hidden=true href=#what-is-an-azure-function>#</a></h3>
<p>From Microsoft themselves, an Azure function is &ldquo;an event-driven, serverless compute platform that helps solve complex orchestration problems&rdquo;. There are a couple of important terms in there:</p>
<ul>
<li><strong>Event-driven:</strong> function apps are called when some event occurs, like an HTTP request to the app&rsquo;s endpoint.</li>
<li><strong>Serverless:</strong> rather than having to specify or even think about required instance sizes, compute resources allocated to function apps scale dynamically based on demand.</li>
</ul>
<p>Also of note is that Azure functions are intended to be stateless, that is they are intended to perform a specific action on an input and provide an output with no interactions across multiple requests.</p>
<h3 id=experimenting-with-azure>Experimenting with Azure<a hidden class=anchor aria-hidden=true href=#experimenting-with-azure>#</a></h3>
<p>Like most of the major cloud providers, Azure includes a free tier to allow new users to experiment for up to a year with all the platform&rsquo;s tools. I made myself a new account and jumped right into <a href="https://docs.microsoft.com/en-us/azure/azure-functions/create-first-function-cli-python?tabs=azure-cli%2Cbash%2Cbrowser">one of their quickstart tutorials</a> to create a function app written in Python.</p>
<p>Working through this tutorial was massively illustrative - at their core, Azure functions are extremely simple. When GET or POST request is recieved by the function&rsquo;s endpoint, it executes a function, <code>main(req: func.HttpRequest)</code> within <code>__init__.py</code>. The request can contain inputs within the query parameters or json in the body. Using those inputs, we can do any required processing and do something like run the inputs through a model, do some data cleaning, etc. Any additional packages we rely on for data science tasks like <code>pandas</code>, <code>scikit-learn</code>, etc. can be installed in the cloud runtime from <code>pip</code> simply by adding them to <code>requirements.txt</code></p>
<p>For the most common data science and data engineering tasks, this looks something like:</p>
<table>
<thead>
<tr>
<th><strong>Application</strong></th>
<th><strong>Input</strong></th>
<th><strong>Output</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Prediction API</td>
<td>Feature values</td>
<td>Model-derived prediction in an HTTP response</td>
</tr>
<tr>
<td>Data processing</td>
<td>Raw data</td>
<td>Cleaned/processed data stored in a database</td>
</tr>
</tbody>
</table>
<p>The delineation between these applications aren&rsquo;t completely cut and dry - a prediction API can do some real-time feature processing, for example - but the story remains that Azure functions are a great choice for every part of a production data science workflow. Even through this quick exercise I can see why our team likes using them so much.</p>
<p><a href=https://github.com/brasich/my-first-azure-function>See code here</a><br>
<a href="https://brtut1functionappquickstart.azurewebsites.net/api/httpexample?input_num=17">Click here to see the live API </a> - try changing input_num in the URL. (Note that the first request may take some time as Azure spins up some resources to serve this function after a period of dormancy)</p>
</div>
<footer class=post-footer>
<nav class=paginav>
<a class=prev href=https://brasich.github.io/posts/the-rise-and-fall-of-rebake/>
<span class=title>« Prev Page</span>
<br>
<span>The Rise and Fall of Rebake</span>
</a>
<a class=next href=https://brasich.github.io/posts/pumpkin-pie-showdown/>
<span class=title>Next Page »</span>
<br>
<span>Internet Pumpkin Pie Showdown</span>
</a>
</nav>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://brasich.github.io/>Ben Rasich</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>